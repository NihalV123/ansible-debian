- name: clone oh my zsh
  run_once: true
  unarchive:
    src:  https://codeload.github.com/ohmyzsh/ohmyzsh/zip/master
    dest: /home/nnnn/
    remote_src: yes

- name: rename oh my zsh
  run_once: true
  shell: mv /home/nnnn/ohmyzsh-master /home/nnnn/.oh-my-zsh

- name: clone power10k
  run_once: true
  unarchive:
    src:  https://codeload.github.com/romkatv/powerlevel10k/zip/master
    dest: /home/nnnn/.oh-my-zsh/custom/themes/
    remote_src: yes

- name: rename power10k
  run_once: true
  shell: mv /home/nnnn/.oh-my-zsh/custom/themes/powerlevel10k-master /home/nnnn/.oh-my-zsh/themes/powerlevel10k

- name: Creates zsh plugins directory
  run_once: true
  file:
    path: "{{ item }}"
    state: directory
  loop:
  - /home/nnnn/.oh-my-zsh/custom/plugins/zsh-syntax-highlighting
  - /home/nnnn/.oh-my-zsh/custom/plugins/zsh-history-substring-search
  - /home/nnnn/.oh-my-zsh/custom/plugins/zsh-autosuggestions

- name: clone zsh syntax highlight
  run_once: true
  unarchive:
    src:  https://codeload.github.com/zsh-users/zsh-syntax-highlighting/zip/master
    dest: /home/nnnn/.oh-my-zsh/custom/plugins/zsh-syntax-highlighting/
    remote_src: yes

- name: clone zsh auto suggestions
  run_once: true
  unarchive:
    src:  https://codeload.github.com/zsh-users/zsh-autosuggestions/zip/master
    dest: /home/nnnn/.oh-my-zsh/custom/plugins/zsh-autosuggestions/
    remote_src: yes

- name: clone zsh history substring search
  run_once: true
  unarchive:
    src:  https://codeload.github.com/zsh-users/zsh-history-substring-search/zip/master
    dest: /home/nnnn/.oh-my-zsh/custom/plugins/zsh-history-substring-search/
    remote_src: yes

- name: copy zsh to user
  run_once: true
  copy:
    src: "{{ item }}"
    dest: /home/nnnn/
    owner: nnnn
    group: nnnn
    mode: 0644 
  loop:
  - files/lf
  - files/.p10k.zsh
  - files/.zshrc
  - files/notes

- name: Creates zsh cache directory
  run_once: true
  file:
    path: "{{ item }}"
    state: directory
  loop:
  - /home/nnnn/.oh-my-zsh/cache/
  - /home/nnnn/.oh-my-zsh/cache/last-working-dir

- name: copy font to user
  run_once: true
  copy:
    src: "{{ item }}"
    dest: /home/nnnn/.local/share/fonts/
  loop:
  - files/MesloLGS NF Regular.ttf

- name: copy zsh to system
  run_once: true
  copy:
    src: "{{ item }}"
    dest: /etc/skel/
  loop:
  - .oh-my-zsh 
  - .zshrc


#  - files/.zsh_history

