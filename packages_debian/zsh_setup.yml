- name: clone oh my zsh
  run_once: true
  unarchive:
    src:  https://codeload.github.com/ohmyzsh/ohmyzsh/zip/master
    dest: /home/nnnn/
    remote_src: yes

- name: rename oh my zsh
  run_once: true
  shell: mv /home/nnnn/ohmyzsh-master /home/nnnn/.oh-my-zsh

- name: clone power10k
  run_once: true
  unarchive:
    src:  https://codeload.github.com/romkatv/powerlevel10k/zip/master
    dest: /home/nnnn/.oh-my-zsh/custom/themes/
    remote_src: yes

- name: rename power10k
  run_once: true
  shell: mv /home/nnnn/.oh-my-zsh/custom/themes/powerlevel10k-master /home/nnnn/.oh-my-zsh/custom/themes/powerlevel10k

- name: Creates zsh plugins directory
  run_once: true
  file:
    path: "{{ item }}"
    state: directory
  loop:
  - /home/nnnn/.oh-my-zsh/custom/plugins/zsh-syntax-highlighting
  - /home/nnnn/.oh-my-zsh/custom/plugins/zsh-completions
  - /home/nnnn/.oh-my-zsh/custom/plugins/zsh-history-substring-search
  - /home/nnnn/.oh-my-zsh/custom/plugins/zsh-autosuggestions

- name: clone zsh syntax highlight
  run_once: true
  unarchive:
    src:  https://codeload.github.com/zsh-users/zsh-syntax-highlighting/zip/master
    dest: /home/nnnn/.oh-my-zsh/custom/plugins/zsh-syntax-highlighting/
    remote_src: yes

- name: clone zsh auto suggestions
  run_once: true
  unarchive:
    src:  https://codeload.github.com/zsh-users/zsh-autosuggestions/zip/master
    dest: /home/nnnn/.oh-my-zsh/custom/plugins/zsh-autosuggestions/
    remote_src: yes

- name: clone zsh history substring search
  run_once: true
  unarchive:
    src:  https://codeload.github.com/zsh-users/zsh-history-substring-search/zip/master
    dest: /home/nnnn/.oh-my-zsh/custom/plugins/zsh-history-substring-search/
    remote_src: yes

- name: clone zsh completions
  run_once: true
  unarchive:
    src:  https://codeload.github.com/zsh-users/zsh-completions/zip/master
    dest: /home/nnnn/.oh-my-zsh/custom/plugins/zsh-completions/
    remote_src: yes

- name: copy zsh to user
  run_once: true
  copy:
    src: "{{ item }}"
    dest: /home/nnnn/
    owner: root
    group: root
    mode: 0440  
  loop:
  - files/zsh-autosuggestions.zip
  - files/zsh-syntax-highlighting.zip 
  - files/lf
  - files/.p10k.zsh
  - files/.zsh_history
  - files/.zshrc
  - files/MesloLGS NF Regular.ttf
  - files/notes

- debug: 'install using   /home/nnnn/.oh-my-zsh/tools/install.sh --unattended  if zsh not instaled'


